{"summary": {"file_name": "football.json"}, "goals": [{"index": 0, "question": "What is the distribution of goals scored by teams in the league?", "visualization": "Histogram of goals scored by teams", "rationale": "This visualization will help us understand the spread of goals scored by teams in the league and identify any outliers or patterns."}, {"index": 1, "question": "What is the correlation between the number of passes made and the number of goals scored by a team?", "visualization": "Scatter plot of number of passes made vs number of goals scored", "rationale": "This visualization will help us understand if there is a relationship between the number of passes made by a team and the number of goals they score. It can also help us identify any teams that are performing exceptionally well or poorly in terms of this relationship."}, {"index": 2, "question": "What is the distribution of player salaries in the league?", "visualization": "Box plot of player salaries", "rationale": "This visualization will help us understand the spread of player salaries in the league and identify any outliers or patterns. It can also help us identify any teams that are spending significantly more or less on player salaries compared to the rest of the league."}, {"index": 3, "question": "What is the distribution of yellow and red cards given to players in the league?", "visualization": "Stacked bar chart of yellow and red cards given to players", "rationale": "This visualization will help us understand the frequency of yellow and red cards given to players in the league and identify any patterns or trends. It can also help us identify any teams or players that are receiving more or less cards compared to the rest of the league."}, {"index": 4, "question": "What is the distribution of home and away wins for teams in the league?", "visualization": "Grouped bar chart of home and away wins for teams", "rationale": "This visualization will help us understand the frequency of home and away wins for teams in the league and identify any patterns or trends. It can also help us identify any teams that are performing significantly better or worse at home or away games compared to the rest of the league."}], "code": [["import matplotlib.pyplot as plt\nimport pandas as pd\n\ndef plot(data: pd.DataFrame):\n    data['goals_scored'].plot.hist(bins=20, alpha=0.5, color='blue', edgecolor='black')\n    plt.axvline(data['goals_scored'].median(), color='red', linestyle='dashed', linewidth=2, label=f\"Median: {data['goals_scored'].median():.2f}\")\n    plt.xlabel('Goals Scored')\n    plt.ylabel('Frequency')\n    plt.title('What is the distribution of goals scored by teams in the league?', wrap=True)\n    plt.legend()\n    return plt;\n\nchart = plot(data)"], ["import matplotlib.pyplot as plt\nimport pandas as pd\n\ndef plot(data: pd.DataFrame):\n    plt.scatter(data['number_of_passes'], data['number_of_goals'])\n    plt.xlabel('Number of Passes')\n    plt.ylabel('Number of Goals')\n    plt.title('What is the correlation between the number of passes made and the number of goals scored by a team?', wrap=True)\n    return plt;\n\nchart = plot(data)"], ["import matplotlib.pyplot as plt\nimport pandas as pd\n\ndef plot(data: pd.DataFrame):\n    fig, ax = plt.subplots()\n    ax.boxplot(data['player_salaries'])\n    ax.set_title('What is the distribution of player salaries in the league?')\n    ax.set_ylabel('Player Salaries')\n    ax.set_xticklabels([''])\n    plt.show()\n    return plt;\n\nchart = plot(data)"], ["import matplotlib.pyplot as plt\nimport pandas as pd\n\ndef plot(data: pd.DataFrame):\n    # Group data by team and sum yellow and red cards\n    grouped_data = data.groupby('team').agg({'yellow_cards': 'sum', 'red_cards': 'sum'})\n\n    # Create a stacked bar chart\n    ax = grouped_data.plot(kind='bar', stacked=True, figsize=(10, 6))\n\n    # Set title and labels\n    plt.title('What is the distribution of yellow and red cards given to players in the league?', wrap=True)\n    plt.xlabel('Team')\n    plt.ylabel('Number of Cards')\n    plt.xticks(rotation=45)\n\n    # Add legend\n    plt.legend(['Yellow Cards', 'Red Cards'])\n\n    return plt;\n\nchart = plot(data)"], ["import matplotlib.pyplot as plt\nimport pandas as pd\n\ndef plot(data: pd.DataFrame):\n    home_wins = data.groupby('team')['home_wins'].sum()\n    away_wins = data.groupby('team')['away_wins'].sum()\n\n    teams = home_wins.index\n    x = range(len(teams))\n\n    fig, ax = plt.subplots()\n    ax.bar(x, home_wins, width=0.4, label='Home Wins')\n    ax.bar([i + 0.4 for i in x], away_wins, width=0.4, label='Away Wins')\n\n    ax.set_xticks([i + 0.2 for i in x])\n    ax.set_xticklabels(teams, rotation=45, ha='right')\n    ax.set_ylabel('Number of Wins')\n    ax.set_title('What is the distribution of home and away wins for teams in the league?')\n    ax.legend()\n\n    return plt;\n\nchart = plot(data)"]], "filename": "football.json", "chart": [[{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\n\ndef plot(data: pd.DataFrame):\n    data['goals_scored'].plot.hist(bins=20, alpha=0.5, color='blue', edgecolor='black')\n    plt.axvline(data['goals_scored'].median(), color='red', linestyle='dashed', linewidth=2, label=f\"Median: {data['goals_scored'].median():.2f}\")\n    plt.xlabel('Goals Scored')\n    plt.ylabel('Frequency')\n    plt.title('What is the distribution of goals scored by teams in the league?', wrap=True)\n    plt.legend()\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'goals_scored'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3621, in get_loc\n    return self._engine.get_loc(casted_key)\n  File \"pandas/_libs/index.pyx\", line 136, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/index.pyx\", line 163, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5198, in pandas._libs.hashtable.PyObjectHashTable.get_item\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5206, in pandas._libs.hashtable.PyObjectHashTable.get_item\nKeyError: 'goals_scored'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 144, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 13, in <module>\n  File \"<string>\", line 5, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 3505, in __getitem__\n    indexer = self.columns.get_loc(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3623, in get_loc\n    raise KeyError(key) from err\nKeyError: 'goals_scored'\n"}}], [{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\n\ndef plot(data: pd.DataFrame):\n    plt.scatter(data['number_of_passes'], data['number_of_goals'])\n    plt.xlabel('Number of Passes')\n    plt.ylabel('Number of Goals')\n    plt.title('What is the correlation between the number of passes made and the number of goals scored by a team?', wrap=True)\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'number_of_passes'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3621, in get_loc\n    return self._engine.get_loc(casted_key)\n  File \"pandas/_libs/index.pyx\", line 136, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/index.pyx\", line 163, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5198, in pandas._libs.hashtable.PyObjectHashTable.get_item\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5206, in pandas._libs.hashtable.PyObjectHashTable.get_item\nKeyError: 'number_of_passes'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 144, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 11, in <module>\n  File \"<string>\", line 5, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 3505, in __getitem__\n    indexer = self.columns.get_loc(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3623, in get_loc\n    raise KeyError(key) from err\nKeyError: 'number_of_passes'\n"}}], [{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\n\ndef plot(data: pd.DataFrame):\n    fig, ax = plt.subplots()\n    ax.boxplot(data['player_salaries'])\n    ax.set_title('What is the distribution of player salaries in the league?')\n    ax.set_ylabel('Player Salaries')\n    ax.set_xticklabels([''])\n    plt.show()\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'player_salaries'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3621, in get_loc\n    return self._engine.get_loc(casted_key)\n  File \"pandas/_libs/index.pyx\", line 136, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/index.pyx\", line 163, in pandas._libs.index.IndexEngine.get_loc\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5198, in pandas._libs.hashtable.PyObjectHashTable.get_item\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 5206, in pandas._libs.hashtable.PyObjectHashTable.get_item\nKeyError: 'player_salaries'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 144, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 13, in <module>\n  File \"<string>\", line 6, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 3505, in __getitem__\n    indexer = self.columns.get_loc(key)\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/indexes/base.py\", line 3623, in get_loc\n    raise KeyError(key) from err\nKeyError: 'player_salaries'\n"}}], [{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\n\ndef plot(data: pd.DataFrame):\n    # Group data by team and sum yellow and red cards\n    grouped_data = data.groupby('team').agg({'yellow_cards': 'sum', 'red_cards': 'sum'})\n\n    # Create a stacked bar chart\n    ax = grouped_data.plot(kind='bar', stacked=True, figsize=(10, 6))\n\n    # Set title and labels\n    plt.title('What is the distribution of yellow and red cards given to players in the league?', wrap=True)\n    plt.xlabel('Team')\n    plt.ylabel('Number of Cards')\n    plt.xticks(rotation=45)\n\n    # Add legend\n    plt.legend(['Yellow Cards', 'Red Cards'])\n\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'team'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 144, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 22, in <module>\n  File \"<string>\", line 6, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 7718, in groupby\n    return DataFrameGroupBy(\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/groupby/groupby.py\", line 882, in __init__\n    grouper, exclusions, obj = get_grouper(\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/groupby/grouper.py\", line 882, in get_grouper\n    raise KeyError(gpr)\nKeyError: 'team'\n"}}], [{"spec": null, "status": false, "raster": null, "code": "import matplotlib.pyplot as plt\nimport pandas as pd\n\ndef plot(data: pd.DataFrame):\n    home_wins = data.groupby('team')['home_wins'].sum()\n    away_wins = data.groupby('team')['away_wins'].sum()\n\n    teams = home_wins.index\n    x = range(len(teams))\n\n    fig, ax = plt.subplots()\n    ax.bar(x, home_wins, width=0.4, label='Home Wins')\n    ax.bar([i + 0.4 for i in x], away_wins, width=0.4, label='Away Wins')\n\n    ax.set_xticks([i + 0.2 for i in x])\n    ax.set_xticklabels(teams, rotation=45, ha='right')\n    ax.set_ylabel('Number of Wins')\n    ax.set_title('What is the distribution of home and away wins for teams in the league?')\n    ax.legend()\n\n    return plt;\n\nchart = plot(data)", "library": "matplotlib", "error": {"message": "'team'", "traceback": "Traceback (most recent call last):\n  File \"/home/victordibia/projects/projectlida/lida/lib/lida/modules/executor.py\", line 144, in execute\n    exec(code, ex_locals)\n  File \"<string>\", line 23, in <module>\n  File \"<string>\", line 5, in plot\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/frame.py\", line 7718, in groupby\n    return DataFrameGroupBy(\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/groupby/groupby.py\", line 882, in __init__\n    grouper, exclusions, obj = get_grouper(\n  File \"/home/victordibia/.local/lib/python3.9/site-packages/pandas/core/groupby/grouper.py\", line 882, in get_grouper\n    raise KeyError(gpr)\nKeyError: 'team'\n"}}]]}